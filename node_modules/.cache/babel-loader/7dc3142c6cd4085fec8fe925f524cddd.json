{"ast":null,"code":"import _classCallCheck from \"/Users/work/Documents/Second Quarter/SubmissionKwitter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/work/Documents/Second Quarter/SubmissionKwitter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/work/Documents/Second Quarter/SubmissionKwitter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/work/Documents/Second Quarter/SubmissionKwitter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/work/Documents/Second Quarter/SubmissionKwitter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/work/Documents/Second Quarter/SubmissionKwitter/src/components/PageComponents/ScrollPageComponents/LikeButton.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { likePost as like, unlikePost as unlike, getMessageAction as getMessage } from \"../../../actions\";\n\nvar LikeButton =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LikeButton, _Component);\n\n  function LikeButton() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, LikeButton);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(LikeButton)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.toggleLike = function () {\n      console.log(_this.props.message);\n      var whichFetch = false;\n      var likeid;\n\n      if (_this.props.message.likes.length) {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = _this.props.message.likes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var _like = _step.value;\n            console.log(\"running\");\n\n            if (_like.userId === _this.props.userId) {\n              whichFetch = true;\n              likeid = _like.id;\n            }\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      }\n\n      if (whichFetch) {\n        var send = {\n          token: _this.props.token,\n          id: likeid\n        };\n\n        _this.props.unlike(send).then(function () {\n          _this.props.render();\n        });\n      } else {\n        var _send = {\n          token: _this.props.token,\n          id: _this.props.message.id\n        };\n\n        _this.props.like(_send).then(function () {\n          _this.props.render();\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(LikeButton, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"ui labeled button\",\n        tabindex: \"0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"ui button\",\n        onClick: this.toggleLike,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"heart icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }), \" Like\"), React.createElement(\"label\", {\n        className: \"ui basic label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, this.props.message && this.props.message.likes.length || 0));\n    }\n  }]);\n\n  return LikeButton;\n}(Component);\n\nexport default connect(function (_ref) {\n  var auth = _ref.auth;\n  return {\n    token: auth.token,\n    userId: auth.userId\n  };\n}, {\n  like: like,\n  unlike: unlike,\n  getMessage: getMessage\n})(LikeButton);","map":{"version":3,"sources":["/Users/work/Documents/Second Quarter/SubmissionKwitter/src/components/PageComponents/ScrollPageComponents/LikeButton.js"],"names":["React","Component","connect","likePost","like","unlikePost","unlike","getMessageAction","getMessage","LikeButton","toggleLike","console","log","props","message","whichFetch","likeid","likes","length","userId","id","send","token","then","render","auth"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,QAAQ,IAAIC,IAArB,EAA2BC,UAAU,IAAIC,MAAzC,EAAiDC,gBAAgB,IAAIC,UAArE,QAAsF,kBAAtF;;IAEMC,U;;;;;;;;;;;;;;;;;;UACJC,U,GAAa,YAAK;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAKC,KAAL,CAAWC,OAAvB;AACA,UAAIC,UAAU,GAAG,KAAjB;AACA,UAAIC,MAAJ;;AACA,UAAG,MAAKH,KAAL,CAAWC,OAAX,CAAmBG,KAAnB,CAAyBC,MAA5B,EAAmC;AAAA;AAAA;AAAA;;AAAA;AACjC,+BAAkB,MAAKL,KAAL,CAAWC,OAAX,CAAmBG,KAArC,8HAA2C;AAAA,gBAAjCb,KAAiC;AACzCO,YAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;;AACA,gBAAGR,KAAI,CAACe,MAAL,KAAgB,MAAKN,KAAL,CAAWM,MAA9B,EAAqC;AACnCJ,cAAAA,UAAU,GAAG,IAAb;AACAC,cAAAA,MAAM,GAAGZ,KAAI,CAACgB,EAAd;AACD;AACF;AAPgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQlC;;AACD,UAAGL,UAAH,EAAc;AACZ,YAAMM,IAAI,GAAG;AAAEC,UAAAA,KAAK,EAAC,MAAKT,KAAL,CAAWS,KAAnB;AAA0BF,UAAAA,EAAE,EAACJ;AAA7B,SAAb;;AACA,cAAKH,KAAL,CAAWP,MAAX,CAAkBe,IAAlB,EACCE,IADD,CACM,YAAI;AACR,gBAAKV,KAAL,CAAWW,MAAX;AACD,SAHD;AAID,OAND,MAMK;AACH,YAAMH,KAAI,GAAG;AAAEC,UAAAA,KAAK,EAAC,MAAKT,KAAL,CAAWS,KAAnB;AAA0BF,UAAAA,EAAE,EAAC,MAAKP,KAAL,CAAWC,OAAX,CAAmBM;AAAhD,SAAb;;AACA,cAAKP,KAAL,CAAWT,IAAX,CAAgBiB,KAAhB,EACCE,IADD,CACM,YAAI;AACR,gBAAKV,KAAL,CAAWW,MAAX;AACD,SAHD;AAID;AACF,K;;;;;;;6BAGQ;AACL,aACI;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAmC,QAAA,QAAQ,EAAC,GAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,WAAf;AAA2B,QAAA,OAAO,EAAE,KAAKd,UAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAG,QAAA,SAAS,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,UADF,EAIE;AAAO,QAAA,SAAS,EAAC,gBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKG,KAAL,CAAWC,OAAX,IAAsB,KAAKD,KAAL,CAAWC,OAAX,CAAmBG,KAAnB,CAAyBC,MAA/C,IAAyD,CAD5D,CAJF,CADJ;AAUD;;;;EAzCoBjB,S;;AA4CzB,eAAeC,OAAO,CAAC;AAAA,MAAGuB,IAAH,QAAGA,IAAH;AAAA,SAAa;AAClCH,IAAAA,KAAK,EAAEG,IAAI,CAACH,KADsB;AAElCH,IAAAA,MAAM,EAAEM,IAAI,CAACN;AAFqB,GAAb;AAAA,CAAD,EAGnB;AAACf,EAAAA,IAAI,EAAJA,IAAD;AAAOE,EAAAA,MAAM,EAANA,MAAP;AAAeE,EAAAA,UAAU,EAAVA;AAAf,CAHmB,CAAP,CAGgBC,UAHhB,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\"\nimport { likePost as like, unlikePost as unlike, getMessageAction as getMessage} from \"../../../actions\"\n\nclass LikeButton extends Component {\n  toggleLike = () =>{\n    console.log(this.props.message)\n    let whichFetch = false\n    let likeid\n    if(this.props.message.likes.length){\n      for(const like of this.props.message.likes){\n        console.log(\"running\")\n        if(like.userId === this.props.userId){\n          whichFetch = true;\n          likeid = like.id\n        }\n      }\n    }\n    if(whichFetch){\n      const send = { token:this.props.token, id:likeid }\n      this.props.unlike(send)\n      .then(()=>{\n        this.props.render()\n      })\n    }else{\n      const send = { token:this.props.token, id:this.props.message.id }\n      this.props.like(send)\n      .then(()=>{\n        this.props.render()\n      })\n    }\n  }\n\n\n  render() {\n      return (\n          <div className=\"ui labeled button\" tabindex=\"0\" >\n            <div className=\"ui button\" onClick={this.toggleLike} >\n              <i className=\"heart icon\"></i> Like\n            </div>\n            <label className=\"ui basic label\">\n              {this.props.message && this.props.message.likes.length || 0}\n            </label>\n          </div>\n      )\n    }\n}\n\nexport default connect(({ auth })=>({\n  token: auth.token,\n  userId: auth.userId\n}),{like, unlike, getMessage})(LikeButton)"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _defineProperty from \"/Users/work/Documents/Second Quarter/SubmissionKwitter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/work/Documents/Second Quarter/SubmissionKwitter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/work/Documents/Second Quarter/SubmissionKwitter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/work/Documents/Second Quarter/SubmissionKwitter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/work/Documents/Second Quarter/SubmissionKwitter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/work/Documents/Second Quarter/SubmissionKwitter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/work/Documents/Second Quarter/SubmissionKwitter/src/components/PageComponents/LoginPageComponents/NewUserForm.js\";\nimport React, { Component } from \"react\";\nimport { Form } from \"semantic-ui-react\";\nimport { createUserAction as createUser } from \"../../../actions\";\nimport { connect } from \"react-redux\";\n\nvar NewUserForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(NewUserForm, _Component);\n\n  function NewUserForm() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, NewUserForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(NewUserForm)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      username: \"\",\n      displayName: \"\",\n      password: \"\"\n    };\n\n    _this.handleChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.handleSubmit = function (e) {\n      var promise = _this.props.createUser(_this.state);\n\n      var target = e.target;\n      e.preventDefault();\n\n      _this.props.onClose();\n\n      promise.then(_this.props.setValidity(true)).catch(function (er) {\n        _this.props.setValidity(false);\n\n        document.getElementById(\"username\").setCustomValidity(\"Username already Taken\");\n        target.reportValidity();\n        setTimeout(function () {\n          document.getElementById(\"username\").setCustomValidity(\"\");\n        }, 1000);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(NewUserForm, [{\n    key: \"verifyPassword\",\n    value: function verifyPassword(input) {\n      return input.target.value !== document.getElementById(\"password\").value ? input.target.setCustomValidity('Password Must be Matching.') : input.target.setCustomValidity('');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"newUserForm-Container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, \"We are happy to add you as a secret squirrel!\"), React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(Form.Input, {\n        placeholder: \"username\",\n        name: \"username\",\n        type: \"text\",\n        onChange: this.handleChange,\n        id: \"username\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      })), React.createElement(Form.Input, {\n        placeholder: \"Display Name\",\n        name: \"displayName\",\n        type: \"text\",\n        onChange: this.handleChange,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }), React.createElement(Form.Input, {\n        placeholder: \"Enter new password\",\n        name: \"password\",\n        type: \"password\",\n        onChange: this.handleChange,\n        id: \"password\",\n        autocomplete: \"new-password\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }), React.createElement(Form.Input, {\n        placeholder: \"Confirm Password\",\n        name: \"passwordCheck\",\n        type: \"password\",\n        onInput: this.verifyPassword,\n        id: \"passwordCheck\",\n        autocomplete: \"new-password\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }), React.createElement(Form.Button, {\n        content: \"Submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return NewUserForm;\n}(Component);\n\nexport default connect(function (_ref) {\n  var users = _ref.users;\n  return {\n    isLoading: users.usersLoading,\n    err: users.usersError\n  };\n}, {\n  createUser: createUser\n})(NewUserForm);","map":{"version":3,"sources":["/Users/work/Documents/Second Quarter/SubmissionKwitter/src/components/PageComponents/LoginPageComponents/NewUserForm.js"],"names":["React","Component","Form","createUserAction","createUser","connect","NewUserForm","state","username","displayName","password","handleChange","e","setState","target","name","value","handleSubmit","promise","props","preventDefault","onClose","then","setValidity","catch","er","document","getElementById","setCustomValidity","reportValidity","setTimeout","input","verifyPassword","users","isLoading","usersLoading","err","usersError"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Form } from \"semantic-ui-react\";\nimport { createUserAction as createUser } from \"../../../actions\"\nimport { connect } from \"react-redux\";\n\nclass NewUserForm extends Component {\n    state = {\n        username: \"\",\n        displayName: \"\",\n        password: \"\",\n    };\n\n    handleChange = (e) => { \n      this.setState( {[e.target.name]: e.target.value } ) \n    }\n\n    handleSubmit = e => {\n      let promise = this.props.createUser(this.state)\n      const target = e.target\n      e.preventDefault()\n      this.props.onClose()\n      promise\n      .then(this.props.setValidity(true))\n      .catch(er=>{\n        this.props.setValidity(false)\n        document.getElementById(\"username\").setCustomValidity(\"Username already Taken\")\n        target.reportValidity()\n        setTimeout(() => {\n          document.getElementById(\"username\").setCustomValidity(\"\")\n        }, 1000);\n      })\n    }\n\n    verifyPassword(input){\n      return (input.target.value !== document.getElementById(\"password\").value) ?  input.target.setCustomValidity('Password Must be Matching.') : input.target.setCustomValidity('');\n    }\n\n    render() {\n        return (\n        <div className=\"newUserForm-Container\">\n          <Form onSubmit={this.handleSubmit}>\n              <h1>We are happy to add you as a secret squirrel!</h1>\n            <Form.Group>\n              <Form.Input placeholder='username' name='username' type=\"text\" onChange={this.handleChange} id=\"username\" required />\n            </Form.Group>\n            <Form.Input placeholder='Display Name' name='displayName'  type=\"text\" onChange={this.handleChange} required />\n            <Form.Input placeholder='Enter new password' name='password' type=\"password\" onChange={this.handleChange} id=\"password\" autocomplete=\"new-password\" required />              \n            <Form.Input placeholder='Confirm Password' name='passwordCheck' type=\"password\" onInput={this.verifyPassword} id=\"passwordCheck\" autocomplete=\"new-password\" required />\n            <hr/>\n            <Form.Button content='Submit' />\n          </Form>\n        </div>\n        )\n      }\n\n}\n\nexport default connect(\n  ({ users }) => ({\n    isLoading: users.usersLoading,\n    err: users.usersError\n  }),\n  { createUser }\n)(NewUserForm);\n"]},"metadata":{},"sourceType":"module"}